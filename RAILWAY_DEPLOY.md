# Деплой в Railway

## Настройка проекта

### 1. Выберите правильный Dockerfile
В Railway используйте `Dockerfile.railway.simple` как основной Dockerfile.

### 2. Настройки Railway
- **Build Command**: оставьте пустым (Railway автоматически определит)
- **Start Command**: оставьте пустым (используется CMD из Dockerfile)
- **Dockerfile Path**: `Dockerfile.railway.simple`

### 3. Переменные окружения
Убедитесь, что в Railway настроены все необходимые переменные:
```
TELEGRAM_BOT_TOKEN=your_bot_token
OPENROUTER_API_KEY=your_api_key
```

### 4. Проблемы и решения

#### Ошибка "Context canceled"
- Проверьте, что `requirements.txt` существует и не поврежден
- Убедитесь, что папка `src/` содержит все необходимые файлы
- Проверьте, что нет проблем с правами доступа к файлам

#### Ошибка копирования данных
- Папка `data/` создается автоматически в Dockerfile
- Кэш инициализируется пустым файлом при запуске бота
- Копирование существующих данных убрано для стабильности

### 5. Альтернативный подход
Если проблемы продолжаются, можно использовать:
- `Dockerfile.railway` - более подробный с отладкой
- `Dockerfile` - основной файл

### 6. Проверка деплоя
После успешного деплоя проверьте:
- Логи в Railway Dashboard
- Работу бота в Telegram
- Доступность health check endpoint
